<template>
    <lightning-spinner variant="brand" if:true={showSpinner}></lightning-spinner>
    <template if:true={records}>
        <lightning-card title="Idea Detail" icon-name="utility:light_bulb">
            <div class="slds-box slds-p-around_none slds-m-top_x-small slds-m-bottom_medium slds-m-horizontal_none">
                <lightning-layout multiple-rows>

                    <lightning-layout-item size="6" padding="around-small">
                        <lightning-dual-listbox name="options" label="Category" source-label="Available"
                            onchange={handleCategory} selected-label="Selected" options={options} value={values}
                            disabled={isInputReadOnly} disable-reordering required>
                        </lightning-dual-listbox>
                    </lightning-layout-item>

                    <lightning-layout-item size="6" padding="around-small">
                        <div class="in-title">
                            <lightning-input label="Title" value={titleVal} onchange={handleTitleval} required
                                read-only={isInputReadOnly}>
                            </lightning-input>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item size="6" padding="around-small">
                        <div class="help-in-combo">
                            <lightning-combobox name="Status" label="Status" value={Statusval} options={statusOptions}
                                onchange={handleStatusChange} read-only={isInputReadOnly} required>
                            </lightning-combobox>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item size="6" padding="around-small">
                        <div class="in-upvote">
                            <lightning-input name="Upvote" label="Upvote Count" value={upvotecount}
                                onchange={handleUpvoteCount} read-only required>
                            </lightning-input>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item size="6" padding="around-small">

                        <lightning-input name="createdDate" label="Created Date" value={createddate} read-only required>
                        </lightning-input>

                    </lightning-layout-item>

                    <lightning-layout-item size="6" padding="around-small">
                        <div class="in-upvote">
                            <lightning-input name="modifiedDate" label="Last Modified Date" value={lastmodifieddate}
                                read-only required>
                            </lightning-input>
                        </div>
                    </lightning-layout-item>

                    <lightning-layout-item size="12" padding="around-small">
                        <template if:true={showEdit}>
                            <label>Description</label>
                            <lightning-formatted-rich-text label="Description" value={Descriptionval}
                                onchange={handleDescription} read-only={isInputReadOnly} required>
                            </lightning-formatted-rich-text>
                        </template>

                        <template if:false={showEdit}>
                            <lightning-input-rich-text label="Description" value={Descriptionval}
                                onchange={handleDescription} message-when-bad-input="This field is required."
                                valid={validity} required label-visible read-only={isInputReadOnly}>
                            </lightning-input-rich-text>
                        </template>
                    </lightning-layout-item>

                    <lightning-layout-item size="6" padding="around-small">
                        <div class="in-action-button">
                            <template if:true={showEdit}>

                                <div class="in-save-button">
                                    <lightning-button variant="brand" label="Edit" onclick={handleEdit}>
                                    </lightning-button>
                                </div>

                                <div class="in-cancel-button">
                                    <lightning-button variant="Neutral" label="Back to Ideas"
                                        onclick={handleRedirection}>
                                    </lightning-button>
                                </div>
                            </template>

                            <template if:true={showButtons}>
                                <div class="in-save-button">
                                    <lightning-button variant="brand" label="Save" onclick={handleSave}>
                                    </lightning-button>
                                </div>

                                <div class="in-cancel-button">
                                    <lightning-button variant="Neutral" label="Cancel" onclick={handleCancel}>
                                    </lightning-button>
                                </div>
                            </template>
                        </div>

                    </lightning-layout-item>
                </lightning-layout>
            </div>
        </lightning-card>
    </template>
</template>