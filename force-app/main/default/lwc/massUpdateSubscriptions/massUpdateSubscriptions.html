<template>
    <template if:true={visible}>
        <div class="slds-notify_container">
            <div class={outerClass} role="status">
                <span class="slds-assistive-text">{type}</span>
                <span class={innerClass} title={message}>
                    <lightning-icon icon-name={getIconName} alternative-text="icon" styleclass="slds-icon slds-icon_small" variant="inverse" size="small"></lightning-icon>
                </span>
                <div class="slds-notify__content">
                    <h2 class="slds-text-heading_small">{message}</h2>
                </div>
                <div class="slds-notify__close">
                    <lightning-button-icon icon-name="utility:close" size="small" variant="border-filled" class="slds-button slds-button_icon slds-button_icon-inverse" alternative-text="next" onclick={closeModel} ></lightning-button-icon>
                </div>
            </div>
        </div>
    </template>
    <template if:true={isLoading}>
        <div class="slds-p-around_x-large">
            <lightning-spinner alternative-text="Loading" size="large" variant="brand"></lightning-spinner>
        </div>
    </template>
    <lightning-card>
        <div class="slds-p-around_large">
            <center>
            <div class="slds-form-element">
                <div class="slds-text-heading_medium ">Mass Update Subscription Lines</div>
                
                    <div style="font-size: 11px;font-weight: 600;">
                        <span style="display:block;">Contract : {contract}</span>
                        <span style="display:block;">Account : {account}</span>
                    </div>
            </div>
            </center>
            <!--<lightning-button label="New" slot="actions"></lightning-button>-->
            <div class="slds-p-horizontal_small" style="height: 56vh;overflow-y: auto;background-color: rgb(120 120 120 / 10%);">
                <div class="slds-p-around_large">
                    <div class="slds-form-element slds-p-bottom_medium">
                        <label class="slds-form-element__label" for="text-input-id-1">Search Account</label>
                        <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right" style="width: 25vw;">
                            <lightning-icon size="x-small" class="slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default" icon-name="Standard:Account"></lightning-icon>
                            <input type="text" id="text-input-id-1" placeholder="Enter Account Name" class="slds-input" onkeyup={accountsearch}/>
                        </div>
                    </div>
                    <div> 
                        <lightning-datatable
                                key-field="Id"
                                data={accounts}
                                columns={columns}
                                onrowselection={handleRowSelection}
                                >
                        </lightning-datatable>
                    </div>
                </div>
            </div>
            <div slot="footer" style="width: 100%;height: 7vh;background-color: white;" class="slds-p-horizontal_small">
                <div style="float: right;padding-right: 4rem;padding-top:2rem;">
                    <lightning-button label="Cancel" title="Cancel" onclick={cancelclick} class="slds-m-left_x-small"></lightning-button>
                    <lightning-button label="Update Subscriptions" title="Update Subscriptions" onclick={updateSubscription} class="slds-m-left_x-small"></lightning-button>
                </div>            
            </div>
        </div>
    </lightning-card>
</template>